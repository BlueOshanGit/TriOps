{
  "actionType": "WEBHOOK",
  "actionUrl": "https://reena-noncorroborating-readily.ngrok-free.dev/v1/actions/format",
  "published": true,
  "labels": {
    "en": {
      "actionName": "Number & Math",
      "actionDescription": "Format numbers, perform math operations, round, and convert to currency or percentage",
      "actionCardContent": "Number & Math: {{operation}}"
    }
  },
  "inputFields": [
    {
      "typeDefinition": {
        "name": "operation",
        "type": "enumeration",
        "fieldType": "select",
        "options": [
          { "value": "number_format", "label": "Format with Decimals" },
          { "value": "currency", "label": "Format as Currency" },
          { "value": "percentage", "label": "Format as Percentage" },
          { "value": "round", "label": "Round" },
          { "value": "floor", "label": "Round Down" },
          { "value": "ceil", "label": "Round Up" },
          { "value": "abs", "label": "Absolute Value" },
          { "value": "add", "label": "Add" },
          { "value": "subtract", "label": "Subtract" },
          { "value": "multiply", "label": "Multiply" },
          { "value": "divide", "label": "Divide" }
        ]
      },
      "supportedValueTypes": ["STATIC_VALUE"],
      "isRequired": true,
      "labels": {
        "en": {
          "label": "Operation",
          "description": "The number or math operation to perform"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "input1",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["OBJECT_PROPERTY"],
      "isRequired": true,
      "labels": {
        "en": {
          "label": "Number",
          "description": "The primary number value"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "input2",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["OBJECT_PROPERTY"],
      "isRequired": false,
      "labels": {
        "en": {
          "label": "Second Number / Parameter",
          "description": "Second operand for math, decimal places for formatting, or currency code (e.g. USD)"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "input3",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["OBJECT_PROPERTY"],
      "isRequired": false,
      "labels": {
        "en": {
          "label": "Locale",
          "description": "Locale for currency formatting (e.g. en-US, de-DE). Defaults to en-US."
        }
      }
    },
    {
      "typeDefinition": {
        "name": "formatOptions",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["STATIC_VALUE"],
      "isRequired": false,
      "labels": {
        "en": {
          "label": "Format Options",
          "description": "Decimal places (e.g. 2) or currency code (e.g. USD)"
        }
      }
    }
  ],
  "outputFields": [
    {
      "typeDefinition": {
        "name": "hubhacks_success",
        "type": "bool"
      },
      "labels": {
        "en": {
          "label": "Success"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "hubhacks_error",
        "type": "string"
      },
      "labels": {
        "en": {
          "label": "Error Message"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "result",
        "type": "string"
      },
      "labels": {
        "en": {
          "label": "Formatted Result"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "result_number",
        "type": "number"
      },
      "labels": {
        "en": {
          "label": "Result (Number)"
        }
      }
    }
  ],
  "objectTypes": ["CONTACT", "COMPANY", "DEAL", "TICKET"],
  "executionRules": [
    {
      "labelName": "Continue on success",
      "conditions": {
        "hubhacks_success": true
      }
    },
    {
      "labelName": "Handle error",
      "conditions": {
        "hubhacks_success": false
      }
    }
  ]
}
