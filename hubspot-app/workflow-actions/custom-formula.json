{
  "actionType": "WEBHOOK",
  "actionUrl": "https://reena-noncorroborating-readily.ngrok-free.dev/v1/actions/format",
  "published": true,
  "labels": {
    "en": {
      "actionName": "Format Data: Custom Mode",
      "actionDescription": "Build custom formulas with 20 built-in functions. See all functions: https://reena-noncorroborating-readily.ngrok-free.dev/formula-reference",
      "actionCardContent": "Custom formula"
    }
  },
  "inputFields": [
    {
      "typeDefinition": {
        "name": "formula",
        "type": "string",
        "fieldType": "textarea"
      },
      "supportedValueTypes": ["STATIC_VALUE"],
      "isRequired": true,
      "labels": {
        "en": {
          "label": "Formula",
          "description": "Use functions like concat, upper, lower, trim, round, if, and more. Use [[input1]] for properties. Full reference with examples: https://reena-noncorroborating-readily.ngrok-free.dev/formula-reference"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "input1",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["OBJECT_PROPERTY"],
      "isRequired": false,
      "labels": {
        "en": {
          "label": "Property 1 → use as [[input1]] in formula",
          "description": "Select a property. Reference it in your formula as [[input1]]"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "input2",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["OBJECT_PROPERTY"],
      "isRequired": false,
      "labels": {
        "en": {
          "label": "Property 2 → use as [[input2]] in formula",
          "description": "Select a property. Reference it in your formula as [[input2]]"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "input3",
        "type": "string",
        "fieldType": "text"
      },
      "supportedValueTypes": ["OBJECT_PROPERTY"],
      "isRequired": false,
      "labels": {
        "en": {
          "label": "Property 3 → use as [[input3]] in formula",
          "description": "Select a property. Reference it in your formula as [[input3]]"
        }
      }
    }
  ],
  "outputFields": [
    {
      "typeDefinition": {
        "name": "hubhacks_success",
        "type": "bool"
      },
      "labels": {
        "en": {
          "label": "Success"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "hubhacks_error",
        "type": "string"
      },
      "labels": {
        "en": {
          "label": "Error Message"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "result",
        "type": "string"
      },
      "labels": {
        "en": {
          "label": "Formula Result"
        }
      }
    },
    {
      "typeDefinition": {
        "name": "result_number",
        "type": "number"
      },
      "labels": {
        "en": {
          "label": "Result (Number)"
        }
      }
    }
  ],
  "objectTypes": ["CONTACT", "COMPANY", "DEAL", "TICKET"],
  "executionRules": [
    {
      "labelName": "Continue on success",
      "conditions": {
        "hubhacks_success": true
      }
    },
    {
      "labelName": "Handle error",
      "conditions": {
        "hubhacks_success": false
      }
    }
  ]
}
